<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Онлайн Калькулятор Здоров'я</title>
    <link rel="stylesheet" href="main.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <style>
      /* Стилі для завантаження */
      #loading {
        display: none;
        position: fixed;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        font-size: 24px;
        text-align: center;
        line-height: 100vh;
      }

      #result {
        display: none;
      }
    </style>
  </head>
  <body>
    <main class="cont">
      <!-- Головна сторінка -->
      <nav class="nav">
        
        <ul class="nav-links">
            <img class="logo" src="src/images/Group 3.svg" alt="" />
          <li><a href="main.html">Головна</a></li>
          <li><a href="calculator.html">Калькулятор</a></li>
        </ul>
        <div class="btn_box">
          <button class="btn__login" id="login-btn">Увійти</button>
          <button class="btn__registration" id="register-btn">
            Реєстрація
          </button>
        </div>
      </nav>

      <div class="">
        <div id="main-page">
          <h1 class="check_health-txt">Перевір якість свого здоров'я онлайн</h1>
          <div id="main-content">
            <div id="description-box">
              <!-- Опис або інший текст -->
            </div>

            <div id="calculator-box">
              <h2>Калькулятор здоров'я онлайн</h2>
              <button id="start-btn">
                <a href="index1.html">Розпочати</a>
              </button>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script>
      document.querySelectorAll(".dropdown-toggle").forEach((dropdown) => {
        dropdown.addEventListener("click", function (event) {
          event.preventDefault();
          const menu = dropdown.nextElementSibling;
          menu.style.display =
            menu.style.display === "block" ? "none" : "block";
        });
      });

      // Закрити меню, якщо клікнули поза його межами
      document.addEventListener("click", function (event) {
        const dropdownMenus = document.querySelectorAll(".dropdown-menu");
        dropdownMenus.forEach((menu) => {
          if (
            !menu.previousElementSibling.contains(event.target) &&
            !menu.contains(event.target)
          ) {
            menu.style.display = "none";
          }
        });
      });

      document.querySelectorAll(".dropdown-toggle").forEach((dropdown) => {
        dropdown.addEventListener("click", function (event) {
          event.preventDefault();
          const menu = dropdown.nextElementSibling;
          menu.style.display =
            menu.style.display === "block" ? "none" : "block";
        });
      });

      // Закрити меню, якщо клікнули поза його межами
      document.addEventListener("click", function (event) {
        const dropdownMenus = document.querySelectorAll(".dropdown-menu");
        dropdownMenus.forEach((menu) => {
          if (
            !menu.previousElementSibling.contains(event.target) &&
            !menu.contains(event.target)
          ) {
            menu.style.display = "none";
          }
        });
      });

      // Показати калькулятор після натискання на кнопку "Розпочати"
      document
        .getElementById("start-btn")
        .addEventListener("click", function () {
          document.getElementById("main-page").style.display = "none";
          document.getElementById("calculator-page").style.display = "block";
        });

      // Логіка калькулятора
      function calculate() {
        // Показати екран завантаження
        document.getElementById("loading").style.display = "block";

        // Приховати поля вводу та кнопку
        document.getElementById("input-fields").style.display = "none";

        // Емулюємо затримку на обчислення (наприклад, 2 секунди)
        setTimeout(function () {
          // Ховати екран завантаження
          document.getElementById("loading").style.display = "none";

          // Отримати введені дані
          const hb = document.getElementById("hb").value;
          const rbc = document.getElementById("rbc").value;
          const wbc = document.getElementById("wbc").value;
          const plt = document.getElementById("plt").value;
          const age = document.getElementById("age").value;

          // Обчислити результати
          let hbResult = checkHBNorm(age, hb);
          let rbcResult = checkRBCNorm(age, rbc);
          let wbcResult = checkWBCNorm(age, wbc);
          let pltResult = checkPLTNorm(age, plt);

          // Показати результати
          document.getElementById("hb-result").textContent = hbResult;
          document.getElementById("rbc-result").textContent = rbcResult;
          document.getElementById("wbc-result").textContent = wbcResult;
          document.getElementById("plt-result").textContent = pltResult;

          // Просте рішення на основі результатів
          let advice = "";
          if (
            hbResult.includes("занижений") ||
            hbResult.includes("підвищений")
          ) {
            advice += "Рівень гемоглобіну потрібно перевірити. ";
          }
          if (
            rbcResult.includes("занижені") ||
            rbcResult.includes("підвищені")
          ) {
            advice += "Еритроцити вимагають перевірки. ";
          }
          if (
            wbcResult.includes("занижені") ||
            wbcResult.includes("підвищені")
          ) {
            advice += "Проблема з лейкоцитами, зверніться до лікаря. ";
          }
          if (
            pltResult.includes("занижені") ||
            pltResult.includes("підвищені")
          ) {
            advice += "Тромбоцити вимагають додаткової уваги. ";
          }
          document.getElementById("advice").textContent =
            advice || "Ваші показники в нормі!";
          document.getElementById("result").style.display = "block";
        }, 2000); // Затримка на 2 секунди для імітації завантаження
      }

      function checkHBNorm(age, hb) {
        if (hb < 120) return "Гемоглобін занижений.";
        if (hb > 160) return "Гемоглобін підвищений.";
        return "Гемоглобін в нормі.";
      }

      function checkRBCNorm(age, rbc) {
        if (rbc < 4) return "Еритроцити занижені.";
        if (rbc > 6) return "Еритроцити підвищені.";
        return "Еритроцити в нормі.";
      }

      function checkWBCNorm(age, wbc) {
        if (wbc < 4) return "Лейкоцити занижені.";
        if (wbc > 10) return "Лейкоцити підвищені.";
        return "Лейкоцити в нормі.";
      }

      function checkPLTNorm(age, plt) {
        if (plt < 150) return "Тромбоцити занижені.";
        if (plt > 450) return "Тромбоцити підвищені.";
        return "Тромбоцити в нормі.";
      }
    </script>
  </body>
</html>
